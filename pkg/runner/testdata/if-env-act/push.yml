name: if-env-gha-test
on: push

jobs:
  if_env_test:
    name: Test if env.ACT matching
    runs-on: ubuntu-latest
    steps:
      # Should RUN, since we are running in gha
      - name: Positive env.ACT match
        if: ${{ env.ACT }}
        shell: bash
        run: |
          echo "This workflow is run using gha, continue!"
          echo "ACT: $ACT"
          exit 0

      # Should SKIP, since we are running in gha
      - name: Negative env.ACT match
        if: ${{ !env.ACT }}
        shell: bash
        run: |
          echo "This should be skipped since this workflow is run using gha, fail!"
          echo "ACT: $ACT"
          exit 1